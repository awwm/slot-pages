(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=window.wp.i18n,l=window.wp.blockEditor,r=window.wp.components,n=window.wp.apiFetch;var a=e.n(n);const s=window.wp.element,i=window.ReactJSXRuntime;(0,t.registerBlockType)("slot-pages/slots-grid",{title:(0,o.__)("Slots Grid","slot-pages"),icon:"grid-view",category:"widgets",attributes:{limit:{type:"number",default:6},sorting:{type:"string",default:"recent"},columns:{type:"number",default:3},titleColor:{type:"string",default:"#000000"},starColor:{type:"string",default:"#FFD700"},providerColor:{type:"string",default:"#555555"},wagerColor:{type:"string",default:"#555555"},buttonBgColor:{type:"string",default:"#0073aa"},buttonTextColor:{type:"string",default:"#ffffff"},titleFontSize:{type:"number",default:16},providerFontSize:{type:"number",default:14},wagerFontSize:{type:"number",default:14}},edit({attributes:e,setAttributes:t}){const{limit:n,sorting:g,columns:d,titleColor:p,starColor:u,providerColor:c,wagerColor:x,buttonBgColor:m,buttonTextColor:C,titleFontSize:_,providerFontSize:v,wagerFontSize:b}=e,[h,w]=(0,s.useState)([]);return(0,s.useEffect)((()=>{a()({path:"/slot-pages/v1/slots"}).then((e=>{let t=[...e];"random"===g&&t.sort((()=>.5-Math.random())),w(t.slice(0,n))}))}),[n,g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.InspectorControls,{children:[(0,i.jsxs)(r.PanelBody,{title:(0,o.__)("Grid Settings","slot-pages"),children:[(0,i.jsx)(r.RangeControl,{label:(0,o.__)("Number of Slots","slot-pages"),value:n,onChange:e=>t({limit:e}),min:1,max:20}),(0,i.jsx)(r.SelectControl,{label:(0,o.__)("Sorting Mode","slot-pages"),value:g,options:[{label:(0,o.__)("Recent","slot-pages"),value:"recent"},{label:(0,o.__)("Random","slot-pages"),value:"random"}],onChange:e=>t({sorting:e})}),(0,i.jsx)(r.RangeControl,{label:(0,o.__)("Columns (per row)","slot-pages"),value:d,onChange:e=>t({columns:e}),min:1,max:6}),(0,i.jsx)(r.RangeControl,{label:(0,o.__)("Title Font Size (px)","slot-pages"),value:_,onChange:e=>t({titleFontSize:e}),min:10,max:40}),(0,i.jsx)(r.RangeControl,{label:(0,o.__)("Provider Font Size (px)","slot-pages"),value:v,onChange:e=>t({providerFontSize:e}),min:10,max:30}),(0,i.jsx)(r.RangeControl,{label:(0,o.__)("Wager Font Size (px)","slot-pages"),value:b,onChange:e=>t({wagerFontSize:e}),min:10,max:30})]}),(0,i.jsx)(l.PanelColorSettings,{title:(0,o.__)("Color Settings","slot-pages"),colorSettings:[{value:p,onChange:e=>t({titleColor:e}),label:(0,o.__)("Title Color","slot-pages")},{value:u,onChange:e=>t({starColor:e}),label:(0,o.__)("Star Color","slot-pages")},{value:c,onChange:e=>t({providerColor:e}),label:(0,o.__)("Provider Color","slot-pages")},{value:x,onChange:e=>t({wagerColor:e}),label:(0,o.__)("Wager Color","slot-pages")},{value:m,onChange:e=>t({buttonBgColor:e}),label:(0,o.__)("Button Background Color","slot-pages")},{value:C,onChange:e=>t({buttonTextColor:e}),label:(0,o.__)("Button Text Color","slot-pages")}]})]}),(0,i.jsx)("div",{className:"slots-grid-preview",style:{display:"grid",gridTemplateColumns:`repeat(${d}, 1fr)`,gap:"10px"},children:h.map((e=>(0,i.jsxs)("div",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"center",fontSize:`${_}px`},children:[e.image&&(0,i.jsx)("img",{src:e.image,alt:e.title,style:{maxWidth:"100%"}}),(0,i.jsx)("strong",{style:{color:p,display:"block",margin:"5px 0"},children:e.title}),(0,i.jsxs)("div",{style:{color:u,margin:"3px 0"},children:["★".repeat(e.star_rating),"☆".repeat(5-e.star_rating)]}),(0,i.jsx)("div",{style:{color:c,fontSize:`${v}px`,margin:"3px 0"},children:e.provider}),(0,i.jsxs)("div",{style:{color:x,fontSize:`${b}px`,margin:"3px 0"},children:["Wager: ",e.min_wager," - ",e.max_wager]}),(0,i.jsx)("a",{href:e.link,style:{display:"inline-block",marginTop:"5px",padding:"5px 10px",backgroundColor:m,color:C,textDecoration:"none",borderRadius:"4px"},children:"More Info"})]},e.id)))})]})},save:()=>null}),(0,t.registerBlockType)("slot-pages/slot-detail",{title:(0,o.__)("Slot Detail","slot-pages"),icon:"info-outline",category:"widgets",edit(){const[e,t]=(0,s.useState)(null);return(0,s.useEffect)((()=>{a()({path:"/slot-pages/v1/latest-slot"}).then((e=>{t(e)}))}),[]),e?(0,i.jsxs)("div",{className:"slot-detail-preview",style:{border:"1px solid #ddd",padding:"10px"},children:[e.image&&(0,i.jsx)("img",{src:e.image,alt:e.title,style:{maxWidth:"100%",marginBottom:"10px"}}),(0,i.jsx)("h3",{children:e.title}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:(0,o.__)("Provider:","slot-pages")})," ",e.provider]}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})]}):(0,i.jsx)("p",{children:(0,o.__)("Loading latest slot...","slot-pages")})},save:()=>null})})();